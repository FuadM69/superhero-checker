# Superhero Checker

Проект для поиска самого высокого героя из публичного API Superhero API по заданным критериям.

## Описание функции

Функция `get_tallest_hero(gender: str, has_work: bool)` выполняет следующие действия:

1. Загружает данные всех героев из публичного API (Superhero API через jsdelivr CDN)
2. Фильтрует героев по полу (без учета регистра) и наличию занятия (occupation)
3. Извлекает рост героев из поля `appearance.height`
4. Возвращает словарь самого высокого подходящего героя
5. Вызывает `ValueError` при невалидных входных данных или отсутствии совпадений

### Параметры

- `gender`: Пол героя (строка, сравнение без учета регистра и пробелов)
- `has_work`: 
  - `True` - герой должен иметь непустое занятие (work.occupation не пустое и не "-")
  - `False` - герой не должен иметь занятия (work.occupation равно null, пустой строке или "-")

### Возвращаемое значение

Полный JSON словарь героя с максимальным ростом среди подходящих.

### Исключения

- `ValueError`: Вызывается при:
  - Невалидном типе или пустой строке для параметра `gender`
  - Невалидном типе для параметра `has_work` (не bool)
  - Отсутствии героев, соответствующих критериям

## Запуск тестов

Рекомендуется использовать виртуальное окружение.

### Создание виртуального окружения

```
python -m venv venv
```

### Активация

Windows:
```
venv\Scripts\activate
```

Linux/macOS:
```
source venv/bin/activate
```

### Установка зависимостей

```
pip install -r requirements.txt
```

### Запуск тестов

Из корня проекта:

```
pytest tests/
```

Или с кратким выводом:

```
pytest -q
```

## Что тестируется

Тесты вызывают реальный публичный API (без моков) и проверяют:

1. **Позитивные сценарии:**
   - Поиск мужского героя с занятием (has_work=True)
   - Поиск женского героя без занятия (has_work=False)
   - Проверка корректности возвращаемых данных (пол, занятие, рост)

2. **Регистронезависимость:**
   - Поиск по "male" и "MALE" возвращает одного и того же героя

3. **Валидация входных данных:**
   - Пустая строка для gender вызывает ValueError
   - Невалидный тип для gender вызывает ValueError
   - Невалидный тип для has_work вызывает ValueError

4. **Обработка отсутствия совпадений:**
   - Поиск по несуществующему полу вызывает ValueError

5. **Корректность результата:**
   - Возвращаемый герой действительно является самым высоким среди подходящих

Все тесты вызывают реальный публичный API (без моков).
